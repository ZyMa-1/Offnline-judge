{% extends "base.html" %}

{% block content %}
<div class="problem_tabs nav-expand-lg">
    <ul class="nav nav-tabs">
        <li class="nav-item">
            <a class="nav-link" href="/practice/basic_programming/problems/{{ problem.id }}">Problem Statement</a>
        </li>
        {% if current_user.is_authenticated %}
        <li class="nav-item">
            <a class="nav-link active" href="/practice/basic_programming/problems/{{ problem.id }}/my_submissions">My submissions</a>
        </li>
        {% endif %}
    </ul>
    <div class="problem_content mx-5 pt-4">
        <table class="table table-bordered mx-2 mt-3">
            <tr>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Submission id</pre>
                </td>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Problem</pre>
                </td>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Sending time</pre>
                </td>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Language</pre>
                </td>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Status</pre>
                </td>
                <td class="submission_item">
                    <pre class="mb-0 px-0 py-1">Time</pre>
                </td>
            </tr>
            {% for submission in submissions %}
                <tr>
                    <td class="submission_item to_problem">
                        <a class="no_dec" href="/practice/submissions/{{ submission.id }}"><pre class="to_problem mb-0 px-0 py-1 h-100">{{ submission.id }}</pre></a>
                    </td>
                    <td class="submission_item to_problem">
                        <a class="no_dec" href="/practice/basic_programming/problems/{{ problem.id }}"><pre class="to_problem mb-0 px-0 py-1 h-100">{{ submission.problem.title }}</pre></a>
                    </td>
                    <td class="submission_item">
                        <pre class="mb-0 px-0 py-1">{{ ((submission.sending_time)|string).split('.')[0] }}</pre>
                    </td>
                    <td class="submission_item">
                        <pre class="mb-0 px-0 py-1">GNU C++11</pre>
                    </td>
                    {% if submission.status == "AC" %}
                    <td class="submission_item alert-success">
                        <pre class="mb-0 px-0 py-1">{{ submission.status }}</pre>
                    </td>
                    {% elif "WA" in submission.status %}
                    <td class="submission_item alert-danger">
                        <pre class="mb-0 px-0 py-1">{{ submission.status }}</pre>
                    </td>
                    {% else %}
                    <td class="submission_item alert-warning">
                        <pre class="mb-0 px-0 py-1">{{ submission.status }}</pre>
                    </td>
                    {% endif %}
                    <td class="submission_item">
                        <pre class="mb-0 px-0 py-1">{{ (submission.running_time * 1000)|int }} ms</pre>
                    </td>
                </tr>
            {% endfor %}
        </table>
    </div>
</div>
{% endblock %}